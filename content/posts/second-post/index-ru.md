+++
title = 'Start with Frame Timeline'
date = 2026-01-07T07:07:07+01:00
draft = true
+++

# Frame Timeline как входная точка анализа производительности приложения

**Цель статьи:** Дать общую картину влияния различных компонентов вашего приложения на плавность UI.

> **Дисклеймер:**
> Подразумевается, что вы уже базово знакомы с трейсами и `perfetto-trace` в Android. Если нет — ниже список материалов, с которыми стоит ознакомиться, прежде чем идти дальше (или не знакомьтесь и прыгайте сразу в практику — управляйте своей жизнью сами!):
> * [Tracing 101](https://perfetto.dev/docs/getting-started/start-using-perfetto) — база: что такое трассировка и зачем она нужна.
> * [Record traces on Android](https://developer.android.com/topic/performance/tracing/on-device) — как снять трейс прямо с девайса.
> * [FrameTimeline: Jank detection](https://perfetto.dev/docs/data-sources/frametimeline) — как именно Perfetto ловит «лаги».

---

## Знакомство 

![Photo](frame-timeline.png)

`Frame Timeline`, знакомьтесь — это мои читатели. Читатели, знакомьтесь — это `Frame Timeline` абстрактного приложения с видимыми проблемами в длительности кадров.

### Краткий ликбез: 
* **Expected Timeline** — ожидаемая серия фреймов (фреймы «сына маминой подруги», где всё идеально).
* **Actual Timeline** — реальная серия фреймов нашего подопытного приложения.

### TL;DR
* **Зеленый цвет** — хорошо.
* **Красный цвет** — плохо.

---

## Что влияет на длительность кадров?

Когда я задаю себе этот вопрос, в голове возникает мем с Чарли Келли у доски с красными нитками (визуализируем). Но если серьезно — ниже список классов и технологий, и он далеко не полный.

### Интерактив
Дайте себе минуту и пробегитесь глазами: знаете ли вы, что делает каждый класс или технология с этой картинки в отдельности?

![Classes](classes.jpg)

### Осознание

Уверен, многие знают большую часть этих инструментов, и это замечательно! 

Но что если я вам скажу, что **ВСЁ** на этой картинке зачастую используется **вместе** в одном приложении? А иногда — даже на одном экране в один момент времени.

**Пример:** Типичный Big-Tech. Составной экран, в который интегрированы разные фиче-команды. У них примерно одинаковый стек, но совершенно разный объем технического долга.

#### Вопросы, на которые стоит ответить:
1. Как эти классы и технологии работают в связке?
2. Как они влияют друг на друга?
3. Как они утилизируют ресурсы нашего приложения?
4. Кто из них может блокировать `UI` поток?
5. Сколько ресурсов они потребляют по отдельности и в сумме?

---